---
description: TypeScript
---

# 1.3 REDUCE

#### Método Reduce en TypeScript

El método `reduce` es uno de los más poderosos y flexibles para la manipulación de arrays en JavaScript y TypeScript. Permite aplicar una función sobre un array y acumular sus valores en un único resultado.

**Sintaxis**

```typescript
array.reduce((accumulator, currentValue, currentIndex, array) => {
  // operación
}, initialValue);
```

* **accumulator**: El acumulador que guarda el valor acumulado.
* **currentValue**: El valor actual del array que se está procesando.
* **currentIndex**: El índice del valor actual (opcional).
* **array**: El array sobre el que se está llamando `reduce` (opcional).
* **initialValue**: El valor inicial para el acumulador.

**Ejemplos Básicos**

1. **Suma de todos los elementos de un array**

```typescript
const numeros = [1, 2, 3, 4, 5];
const suma = numeros.reduce((acc, num) => acc + num, 0);
console.log(suma); // 15
```

2. **Encontrar el valor máximo en un array**

```typescript
const maximo = numeros.reduce((acc, num) => (num > acc ? num : acc), numeros[0]);
console.log(maximo); // 5
```

3. **Convertir un array de objetos a un único objeto**

```typescript
const personas = [
  { nombre: "Alice", edad: 25 },
  { nombre: "Bob", edad: 30 },
  { nombre: "Charlie", edad: 35 },
];

const objetoPersonas = personas.reduce((acc, persona) => {
  acc[persona.nombre] = persona.edad;
  return acc;
}, {});

console.log(objetoPersonas); // { Alice: 25, Bob: 30, Charlie: 35 }
```

4. **Contar la ocurrencia de elementos en un array**

```typescript
const letras = ['a', 'b', 'a', 'c', 'b', 'a'];
const contarLetras = letras.reduce((acc, letra) => {
  acc[letra] = (acc[letra] || 0) + 1;
  return acc;
}, {});

console.log(contarLetras); // { a: 3, b: 2, c: 1 }
```

5. **Aplanar un array de arrays**

```typescript
const arrays = [[1, 2], [3, 4], [5, 6]];
const aplanado = arrays.reduce((acc, arr) => acc.concat(arr), []);
console.log(aplanado); // [1, 2, 3, 4, 5, 6]
```

6. **Agrupar elementos de un array basado en una propiedad**

```typescript
const mascotas = [
  { tipo: 'perro', nombre: 'Max' },
  { tipo: 'gato', nombre: 'Luna' },
  { tipo: 'perro', nombre: 'Buddy' },
  { tipo: 'gato', nombre: 'Bella' },
];

const agrupadas = mascotas.reduce((acc, mascota) => {
  if (!acc[mascota.tipo]) {
    acc[mascota.tipo] = [];
  }
  acc[mascota.tipo].push(mascota.nombre);
  return acc;
}, {});

console.log(agrupadas); // { perro: ['Max', 'Buddy'], gato: ['Luna', 'Bella'] }
```

#### Explicación Detallada

**Suma de Valores**

El primer ejemplo muestra cómo usar `reduce` para sumar todos los elementos de un array. El acumulador (`acc`) empieza en 0 y se incrementa con cada elemento (`num`).

**Encontrar el Valor Máximo**

El segundo ejemplo demuestra cómo encontrar el valor máximo. Comparamos cada elemento del array con el acumulador y actualizamos el acumulador si el elemento actual es mayor.

**Convertir Array de Objetos a un Único Objeto**

En el tercer ejemplo, convertimos un array de objetos en un único objeto. Usamos `reduce` para agregar cada objeto al acumulador (`acc`), con la propiedad `nombre` como clave y `edad` como valor.

**Contar Ocurrencias**

El cuarto ejemplo cuenta las ocurrencias de cada elemento en un array. Incrementamos el contador para cada letra en el acumulador.

**Aplanar un Array de Arrays**

El quinto ejemplo aplana un array de arrays concatenando todos los sub-arrays en uno solo.

**Agrupar Elementos por Propiedad**

El sexto ejemplo agrupa elementos de un array según una propiedad (`tipo` en este caso). Para cada elemento, verificamos si la clave existe en el acumulador y luego agregamos el nombre de la mascota a la lista correspondiente.

#### Conclusión

El método `reduce` es extremadamente versátil y puede ser usado para realizar operaciones complejas en arrays. Su poder radica en la capacidad de acumular resultados y transformar arrays en prácticamente cualquier estructura de datos deseada.
